<html>
    <head>
        <title>Matplotlib</title>
        <meta charset="utf-8">
        <link rel="stylesheet" href="https://pyscript.net/alpha/pyscript.css" />
        <script defer src="https://pyscript.net/alpha/pyscript.js"></script>
        <!-- bootstrap 5 -->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha1/css/bootstrap.min.css" integrity="sha384-r4NyP46KrjDleawBgD5tp8Y7UzmLA05oM1iAEQ17CSuDqnUK2+k9luXQOfXJCJ4I" crossorigin="anonymous">
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha1/js/bootstrap.min.js" integrity="sha384-oesi62hOLfzrys4LxRF63OJCXdXDipuXpqrbxNrziq6P1NOx90h5p2lLPDXw8mWQ5stw" crossorigin="anonymous"></script>
        <!-- jQuery -->
        <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
        <!-- font awesome -->
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
        <py-env>
            - matplotlib
        </py-env>
    </head>
    <body>
        <!-- Create centered div -->
            <py-script output="mpl">
                import matplotlib.pyplot as plt
                import matplotlib.tri as tri
                import numpy as np

                # First create the x and y coordinates of the points.
                n_angles = 36
                n_radii = 8
                min_radius = 0.25
                radii = np.linspace(min_radius, 0.95, n_radii)

                angles = np.linspace(0, 2 * np.pi, n_angles, endpoint=False)
                angles = np.repeat(angles[..., np.newaxis], n_radii, axis=1)
                angles[:, 1::2] += np.pi / n_angles

                x = (radii * np.cos(angles)).flatten()
                y = (radii * np.sin(angles)).flatten()
                z = (np.cos(radii) * np.cos(3 * angles)).flatten()

                # Create the Triangulation; no triangles so Delaunay triangulation created.
                triang = tri.Triangulation(x, y)

                # Mask off unwanted triangles.
                triang.set_mask(np.hypot(x[triang.triangles].mean(axis=1),
                                        y[triang.triangles].mean(axis=1))
                                < min_radius)

                fig1, ax1 = plt.subplots()
                ax1.set_aspect('equal')
                tpc = ax1.tripcolor(triang, z, shading='flat')
                fig1.colorbar(tpc)
                ax1.set_title('tripcolor of Delaunay triangulation, flat shading')
                fig1
            </py-script>
        <py-repl id="my-repl"  auto-generate="true"> </py-repl>
    </body>
</html>
